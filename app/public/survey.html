<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Friend Finder: Survey</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.15.0/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
        <script srv="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.8.7/chosen.jquery.min.js"></script>
        <style>
            .dropdown {
                position: relative;
            }
            p {
                font-size: 18px;
            }
            select {
                float: left;
                margin-right: 15px;
                margin-top: 2px;
                border-width: 1.5px;
            }
            select:hover {
                border-color: purple;
            }
            option:active {
                background-color: purple;
                color: white;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="jumbotron">
                <h1><strong>Survey Questions</strong></h1>
                <hr>
                <h3>About You</h3>
                <br>
                <p>Your Name (Required):</p>
                <input type="text" id="your-name" class="form-control">
                <br>
                <p>Your Photo Link (Required):</p>
                <input type="text" id="your-pic" class="form-control">
                <br>
                <hr>
                <br>
                <div>
                    <select class="chosen-select">
                        <option>Select . . .</option>
                        <option class="choice" value="1">1. Strongly Disagree</option>
                        <option class="choice" value="2">2. Disagree</option>
                        <option class="choice" value="3">3. On the Fence</option>
                        <option class="choice" value="4">4. Agree</option>
                        <option class="choice" value="5">5. Strongly Agree</option>
                    </select>
                    <p><strong>1. I'm a joke.</strong></p>
                </div>
                <br>
                <div>
                    <select class="chosen-select">
                        <option>Select . . .</option>
                        <option class="choice" value="1">1. Strongly Disagree</option>
                        <option class="choice" value="2">2. Disagree</option>
                        <option class="choice" value="3">3. On the Fence</option>
                        <option class="choice" value="4">4. Agree</option>
                        <option class="choice" value="5">5. Strongly Agree</option>
                    </select>
                    <p><strong>2. I'm a waste.</strong></p>
                </div>
                <br>
                <div>
                    <select class="chosen-select">
                        <option>Select . . .</option>
                        <option class="choice" value="1">1. Strongly Disagree</option>
                        <option class="choice" value="2">2. Disagree</option>
                        <option class="choice" value="3">3. On the Fence</option>
                        <option class="choice" value="4">4. Agree</option>
                        <option class="choice" value="5">5. Strongly Agree</option>
                    </select>
                    <p><strong>3. I'm your mom.</strong></p>
                </div>
                <br>
                <div>
                    <select class="chosen-select">
                        <option>Select . . .</option>
                        <option class="choice" value="1">1. Strongly Disagree</option>
                        <option class="choice" value="2">2. Disagree</option>
                        <option class="choice" value="3">3. On the Fence</option>
                        <option class="choice" value="4">4. Agree</option>
                        <option class="choice" value="5">5. Strongly Agree</option>
                    </select>
                    <p><strong>4. I am a seagull.</strong></p>
                </div>
                <br>
                <div>
                    <select class="chosen-select">
                        <option>Select . . .</option>
                        <option class="choice" value="1">1. Strongly Disagree</option>
                        <option class="choice" value="2">2. Disagree</option>
                        <option class="choice" value="3">3. On the Fence</option>
                        <option class="choice" value="4">4. Agree</option>
                        <option class="choice" value="5">5. Strongly Agree</option>
                    </select>
                    <p><strong>5. What have you done?</strong></p>
                </div>
                <br>
                <div>
                    <select class="chosen-select">
                        <option>Select . . .</option>
                        <option class="choice" value="1">1. Strongly Disagree</option>
                        <option class="choice" value="2">2. Disagree</option>
                        <option class="choice" value="3">3. On the Fence</option>
                        <option class="choice" value="4">4. Agree</option>
                        <option class="choice" value="5">5. Strongly Agree</option>
                    </select>
                    <p><strong>6. What have you done?</strong></p>
                </div>
                <br>
                <div>
                    <select class="chosen-select">
                        <option>Select . . .</option>
                        <option class="choice" value="1">1. Strongly Disagree</option>
                        <option class="choice" value="2">2. Disagree</option>
                        <option class="choice" value="3">3. On the Fence</option>
                        <option class="choice" value="4">4. Agree</option>
                        <option class="choice" value="5">5. Strongly Agree</option>
                    </select>
                    <p><strong>7. What have you done?</strong></p>
                </div>
                <br>
                <div>
                    <select class="chosen-select">
                        <option>Select . . .</option>
                        <option class="choice" value="1">1. Strongly Disagree</option>
                        <option class="choice" value="2">2. Disagree</option>
                        <option class="choice" value="3">3. On the Fence</option>
                        <option class="choice" value="4">4. Agree</option>
                        <option class="choice" value="5">5. Strongly Agree</option>
                    </select>
                    <p><strong>8. What have you done?</strong></p>
                </div>
                <br>
                <div>
                    <select class="chosen-select">
                        <option>Select . . .</option>
                        <option class="choice" value="1">1. Strongly Disagree</option>
                        <option class="choice" value="2">2. Disagree</option>
                        <option class="choice" value="3">3. On the Fence</option>
                        <option class="choice" value="4">4. Agree</option>
                        <option class="choice" value="5">5. Strongly Agree</option>
                    </select>
                    <p><strong>9. What have you done?</strong></p>
                </div>
                <br>
                <div>
                    <select class="chosen-select">
                        <option>Select . . .</option>
                        <option class="choice" value="1">1. Strongly Disagree</option>
                        <option class="choice" value="2">2. Disagree</option>
                        <option class="choice" value="3">3. On the Fence</option>
                        <option class="choice" value="4">4. Agree</option>
                        <option class="choice" value="5">5. Strongly Agree</option>
                    </select>
                    <p><strong>10. What have you done?</strong></p>
                </div>
                <br>
                <button class="submit">Submit</button>                    
            </div>
        </div>
        <footer class="footer">
        <div class="container">
            <p>
                <a href="/api/friends">API Friends Link</a>
            </p>
        </div>
        </footer>
        <script type="text/javascript">
            // 
            var userResults = [];
            $(".chosen-select").on("click", function(event) {
                event.preventDefault();
                var selected = parseInt($(this).val());
                console.log(selected);
                if(selected <= 6) {
                    userResults.push(selected);
                    console.log(userResults);
                }
            });
            $(".submit").on("click", function(event) {
                event.preventDefault();
                var score = userResults.reduce(scoreSum);
                function scoreSum(total, num) {
                    return total + num;
                }
                console.log(score);
                var newFriend = {
                    name: $("#your-name").val().trim(),
                    photo: $("#your-pic").val().trim(),
                    scores: userResults
                };
                console.log(newFriend);
                $.post("/api/friends", newFriend,
                function(data) {
                    $("#your-name").val("");
                    $("#your-pic").val("");
                });
                function compare(yours, match) {
                    // score vs friends
                }
            });
        </script>
    </body>
</html>
